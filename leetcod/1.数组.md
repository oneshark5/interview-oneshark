# 数组
**基础知识**
* 字符串转换成数组
采用`split（)`方法，
* 深复制和浅复制
浅复制是仅赋值了引用索引，比如将一个数组arr赋值给另一个数组newarr时，当arr发生变化时，newarr也会发生变化。而深复制是索引值和
* 常用方法
  *  `indexof()`查 找传进来的参数在目标数组中是否存在。如果目标 数组包含该参数，就返回该元素在数组中的索引；---提取索引值。🦈当数组包含多个相同元素，则返回第一个元素所在的索引值；类似的`lastIndexOf()` 该函数返回相同元素中最后一个元素的索引。
  * `join()`,`toString()`将数组转化为字符串
  * `concat` 方法可以合并多个数组创建一个新 数组，
  * `push()`将元素添加到数组的末尾；`unshift()`将元素添加到数组的开头。
  * `pop()`删除数组的最后一个元素；`shift()`删除数组的第一个元素。
  * `splice()` 方法 ①截取一个数组的子集创建一个新数组；接收两个参数一个起始索引一个截取长度。 ②为数组添加元素，接收参数 起始索引、删除个数、要添加的元素。 ③要删除元素的话，只传两个参数，就截取了。
  ```js
  nums.splice(3,0,4,5,6)
  ```
  *  `reverse()`该方法将数组中元素的顺序进行翻转。
  * `sort()`排序；sort() 方法是按照字典顺序对元素进行排序的，因 此它假定元素都是字符串类型。
  * 迭代器
  1. `forEach()`
  2. `every()`对数组每个元素进行判断，所有元素符合自己定义的条件则返回true。
  3. `some()`对数组每个元素进行判断，只要有一个满足条件就返回true
  4. `reduce()`可求和、可拼接字符串；`reduceRight()`从右到左执行。
  5. `map()`
  6. `filter()`筛选符合条件（返回true）的元素，并形成一个新数组。


* 
## 题目
**数组 + 二分查找**

* 704.二分查找  模板题
🦈注意要取整
🦈边界的处理
```js
var search = function(nums, target) {
    // 二分查找
    let left = 0, right = nums.length-1
    while(left <= right){
        let mid = Math.floor((left+right)/2)
        if(nums[mid] === target){
            return mid
        }
        else if(target < nums[mid]){
            right = mid - 1;
        }
        else{
            left = mid + 1;
        }
    }
    return -1
};
```
* 35.搜索插入位置
🦈需要注意的是跳出循环的条件，当left>right时跳出循环，索引要插入位置是right+1
```js
var searchInsert = function(nums, target) {
    // 仍然用二分查找
    // 与704相比，704找不到则返回-1，这里找不到返回mid+1，即要填充的位置
    let l=0, r=nums.length
    while(l <= r){
        let mid = Math.floor((l+r)/2)
        if(nums[mid] === target) return mid
        else if( nums[mid] < target) l = mid+1
        else r = mid-1
    }
    return r+1
};
```
* 34.在排序数组中查找元素的第一个和最后一个位置
对于边界的处理，容易混淆
```js
var searchRange = function(nums, target) {
    // 数组+二分法---创建一个二分法，分别查找左边的值和右边的值
    // 调用二分查找方法
    let leftIndex = binarysearch(nums, target-1)//从左逼近？？
    let rightIndex = binarysearch(nums, target)-1//从右逼近？？
    if(leftIndex<=rightIndex && nums[leftIndex]===target){
        return [leftIndex, rightIndex]
    }
    return [-1,-1]
    // 数组+双指针
};
const binarysearch = (nums, target) => {
    let left = 0
    let right = nums.length - 1
    let ans = nums.length
    while(left<=right){
        let mid = Math.floor((left+right)/2)
        // 从右向左查找？
        if(nums[mid] > target){
            right = mid - 1
            ans = mid
        }else{
            left = mid + 1
        }
    }
    return ans
}
```
* 69.x 的平方根
```js
var mySqrt = function(x) {
    // 二分查找，难点还是边界的处理
    let l = 0
    let r  = x
    let ans = -1
    while(l<=r){
        let mid = Math.floor((l+r)/2)
        if(mid*mid <= x){
            l = mid + 1
            ans = mid
        }else{
            r = mid - 1
        }
    }
    return ans
};
```
* 367.有效的完全平方数
分情况讨论，===就返回true，不断二分搜索查找是否右符合情况的结果。
```js
var isPerfectSquare = function(num) {
    // 二分查找，想不出来就记
    // 判断 0 1 的情况
    if(num <= 1) return true
    let l = 2, r = num
    while(l<=r){
        let mid = Math.floor((l+r)/2)
        // 当mid*mid === num时返回结果
        if(mid*mid === num) return true
        else if(mid*mid < num) l = mid+1
        else r = mid-1
    }
    return false
};
```
* 27.移除元素
🦈不可修改原数组，采用splice在原数组上进行删除操作
```js
var removeElement = function(nums, val) {
    // 移除元素 api：splice？filter？
    for(let i=0; i<nums.length; i++){
        if(nums[i] === val) {
            nums.splice(i, 1)
            i--
        }
    }
    return nums.length
};
```
* 977.有序数组的平方
**借用API**
```js
var sortedSquares = function(nums) {
    for(let i=0; i<nums.length; i++){
        nums[i] = nums[i] * nums[i]
    }
    return nums.sort((a,b) => a-b)
};
```
**采用双指针**
```js
var sortedSquares = function(nums) {
    let index = nums.length-1
    let temp = []
    for(let left=0, right = nums.length-1; left<=right;){
        if(nums[left]*nums[left] > nums[right]*nums[right]){
            temp[index] = nums[left]*nums[left]
            left++
        }else{
            temp[index] = nums[right]*nums[right]
            right--
        }
        index--
    }
    return temp
};
```
* 209.长度最小的子数组

* 59.螺旋矩阵II
