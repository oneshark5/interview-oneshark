# é›†åˆ
è¿™é‡Œä¸»è¦æ˜¯Setå’ŒMap
æˆå‘˜çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„ï¼Œæ²¡æœ‰é‡å¤çš„å€¼ã€‚
## åŸºç¡€çŸ¥è¯†
**Map**
Mapå¤§éƒ¨åˆ†ç‰¹æ€§éƒ½å¯ä»¥ä½¿ç”¨Objectå®ç°ï¼›
å¦‚æœéœ€è¦â€œé”®å€¼å¯¹â€çš„æ•°æ®ç»“æ„ï¼ŒMap æ¯” Object æ›´åˆé€‚
* åŒºåˆ«
  - Objectåªèƒ½ä½¿ç”¨æ•°å€¼ã€å­—ç¬¦ä¸²æˆ–ç¬¦å·ä½œä¸ºé”®ï¼ŒMapå¯ä»¥ä½¿ç”¨ä»»ä½•JSæ•°æ®ç±»å‹ä½œä¸ºé”®
  - Mapå®ä¾‹ä¼šç»´æŠ¤é”®å€¼å¯¹çš„æ’å…¥é¡ºåºï¼Œå¯ä»¥æ ¹æ®æ’å…¥é¡ºåºæ‰§è¡Œè¿­ä»£æ“ä½œã€‚

* æ“ä½œæ–¹æ³•
  - set(key, value) è®¾ç½®é”®åkeyå¯¹åº”çš„é”®å€¼ä¸ºvalue
  - get(key) è¯»å–keyå¯¹åº”çš„é”®å€¼ï¼Œå¦‚æœæ‰¾ä¸åˆ°keyï¼Œè¿”å›undefinedã€‚
  - has(key) è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæŸä¸ªé”®æ˜¯å¦åœ¨å½“å‰ Map å¯¹è±¡ä¹‹ä¸­ã€‚
  - delete(key) åˆ é™¤æŸä¸ªé”®ï¼Œè¿”å›trueã€‚å¦‚æœåˆ é™¤å¤±è´¥ï¼Œè¿”å›falseã€‚
  - clear() æ¸…é™¤æ‰€æœ‰æˆå‘˜ï¼Œæ²¡æœ‰è¿”å›å€¼ã€‚
* éå†æ–¹æ³•
  - keys()ï¼šè¿”å›é”®åçš„éå†å™¨ã€‚
  - values()ï¼šè¿”å›é”®å€¼çš„éå†å™¨ã€‚
  - entries()ï¼šè¿”å›æ‰€æœ‰æˆå‘˜çš„éå†å™¨ã€‚
  - forEach()ï¼šéå† Map çš„æ‰€æœ‰æˆå‘˜ã€‚
* è½¬æ¢æ–¹æ³•


**Set**
* æ“ä½œæ–¹æ³•
  - add(value)ï¼šæ·»åŠ æŸä¸ªå€¼ï¼Œè¿”å› Set ç»“æ„æœ¬èº«ã€‚
  - has(value)ï¼šè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè¯¥å€¼æ˜¯å¦ä¸ºSetçš„æˆå‘˜ã€‚
  - delete(value)ï¼šåˆ é™¤æŸä¸ªå€¼ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºåˆ é™¤æ˜¯å¦æˆåŠŸã€‚
  - clear()ï¼šæ¸…é™¤æ‰€æœ‰æˆå‘˜ï¼Œæ²¡æœ‰è¿”å›å€¼ã€‚
* éå†æ“ä½œ
  - keys()ï¼šè¿”å›é”®åçš„éå†å™¨
  - values()ï¼šè¿”å›é”®å€¼çš„éå†å™¨
  - entries()ï¼šè¿”å›é”®å€¼å¯¹çš„éå†å™¨
  - forEach()ï¼šä½¿ç”¨å›è°ƒå‡½æ•°éå†æ¯ä¸ªæˆå‘˜
  å»ºè®®ç›´æ¥ä½¿ç”¨for...ofå¾ªç¯éå† Setã€‚
  ```js
  let set = new Set(['red', 'green', 'blue']);

  for (let x of set) {
    console.log(x);
  }
  // red
  // green
  // blue
  ```

**ä¸€äº›é›†åˆæ–¹æ³•**
- å»é™¤æ•°ç»„çš„é‡å¤æˆå‘˜
æ€æƒ³å°±æ˜¯æŠŠå«æœ‰é‡å¤å…ƒç´ çš„æ•°ç»„ç”ŸæˆSetç»“æ„ï¼Œç„¶åä½¿ç”¨Array.from()æ–¹æ³•æˆ–è€…æ‰©å±•è¿ç®—ç¬¦æŠŠSetç»“æ„è½¬ä¸ºæ•°ç»„ã€‚
```js
[...new Set(array)]
```
Array.fromæ–¹æ³•å¯ä»¥å°† Set ç»“æ„è½¬ä¸ºæ•°ç»„ã€‚
```js
function dedupe(array) {
  return Array.from(new Set(array));
}

dedupe([1, 1, 2, 3]) // [1, 2, 3]
```
- å»é™¤å­—ç¬¦ä¸²é‡Œé¢çš„é‡å¤å­—ç¬¦
```js
[...new Set('ababbc')].join('')// "abc"
```

**æ³¨æ„ç‚¹**
- Set å†…éƒ¨åˆ¤æ–­ä¸¤ä¸ªå€¼æ˜¯å¦ä¸åŒï¼Œä½¿ç”¨çš„ç®—æ³•å«åšâ€œSame-value-zero equalityâ€ï¼Œå®ƒç±»ä¼¼äºç²¾ç¡®ç›¸ç­‰è¿ç®—ç¬¦ï¼ˆ===ï¼‰ï¼Œä¸»è¦çš„åŒºåˆ«æ˜¯å‘ Set åŠ å…¥å€¼æ—¶è®¤ä¸ºNaNç­‰äºè‡ªèº«ï¼Œè€Œç²¾ç¡®ç›¸ç­‰è¿ç®—ç¬¦è®¤ä¸ºNaNä¸ç­‰äºè‡ªèº«ã€‚
- ä¸¤ä¸ªå¯¹è±¡æ€»æ˜¯ä¸ç›¸ç­‰çš„ã€‚
- å¯¹åŒä¸€ä¸ªé”®å¤šæ¬¡èµ‹å€¼ï¼Œåé¢çš„å€¼å°†è¦†ç›–å‰é¢çš„å€¼ã€‚
- è¯»å–ä¸€ä¸ªæœªçŸ¥çš„é”®ï¼Œåˆ™è¿”å›undefinedã€‚
- Map çš„é”®å®é™…ä¸Šæ˜¯è·Ÿå†…å­˜åœ°å€ç»‘å®šçš„ï¼Œåªè¦å†…å­˜åœ°å€ä¸ä¸€æ ·ï¼Œå°±è§†ä¸ºä¸¤ä¸ªé”®
- å¦‚æœ Map çš„é”®æ˜¯ä¸€ä¸ªç®€å•ç±»å‹çš„å€¼ï¼ˆæ•°å­—ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼ï¼‰ï¼Œåˆ™åªè¦ä¸¤ä¸ªå€¼ä¸¥æ ¼ç›¸ç­‰ï¼ŒMap å°†å…¶è§†ä¸ºä¸€ä¸ªé”®ã€‚

### é¢˜ç›®

#### Mapé›†åˆæ˜ å°„
**242.æœ‰æ•ˆçš„å­—æ¯å¼‚ä½è¯**
â­è¿™æ˜¯ä¸€ä¸ªæ¨¡æ¿é¢˜
æ–¹æ³•ä¸€ï¼šæ’åºåˆ¤æ–­
ğŸ¦ˆå­—ç¬¦ä¸²è½¬æˆæ•°å­—ï¼Œç”¨æ‰©å±•è¿ç®—ç¬¦ï¼Œæ•°ç»„è½¬å­—ç¬¦ä¸²ç”¨join('')
```js
var isAnagram = function(s, t) {
    // æ–¹æ³•ä¸€ï¼šæ’åºåˆ¤æ–­
    // é•¿åº¦ä¸ç›¸ç­‰åˆ™è¿”å›false
    if(s.length !== t.length) return false
    return [...s].sort().join('') === [...t].sort().join('')
};
```

æ–¹æ³•äºŒï¼šMapé›†åˆ
ğŸ¦ˆé‡‡ç”¨mapé›†åˆï¼Œå…ˆå¯¹ä¸€ä¸ªå­—ç¬¦ä¸²è¿›è¡Œæ˜ å°„è®°å½•å­—ç¬¦å‡ºç°çš„æ¬¡æ•°ã€‚
1. mapæ˜ å°„ï¼Œè®°å½•å­—ç¬¦å‡ºç°çš„æ¬¡æ•°keyä¸ºå­—ç¬¦ï¼Œvalueä¸ºæ¬¡æ•°
2. éå†tï¼ŒåŒ¹é…ï¼Œæœ‰åˆ™-1ï¼Œ<0æ—¶è¿”å›falseï¼Œæ— ç›´æ¥è¿”å›
```js
var isAnagram = function(s, t) {
    // æ–¹æ³•äºŒï¼šMapé›†åˆ
    if(s.length !== t.length) return false
    const map = new Map()
    for(let value of [...s]){
        if(map.has(value)){
            map.set(value, map.get(value)+1)
        }else{
            map.set(value, 1)
        }
    }

    // éå†tï¼Œè¿›è¡Œåˆ¤æ–­
    for(let value of [...t]){
        if(map.has(value)){
            if(map.get(value) < 1) return false
            map.set(value, map.get(value)-1)
            
        }else{
            return false
        }
    }
    return true
};
```

âŒé”™è¯¯ä»£ç 
```js
var isAnagram = function(s, t) {
    // æ–¹æ³•ä¸€ï¼šSeté›†åˆ---âŒå› ä¸ºé›†åˆä¸­ä¸èƒ½å­˜æ”¾ç›¸åŒå…ƒç´ 
    /**
    1. å»ºç«‹æ˜ å°„s
    2. å¯¹å­—ç¬¦æ¢tè¿›è¡Œéå†ï¼Œåˆ¤æ–­seté›†åˆä¸­æ˜¯å¦å­˜åœ¨è¯¥å…ƒç´ 
     */
    if(s.length !== t.length) return false
    // å»ºç«‹æ˜ å°„
    let set = new Set()
    for(let value of s){
        set.add(value)
    }
    // éå†tè¿›è¡Œåˆ¤æ–­
    for(let ele of t){
        if(set.has(ele)){
            set.delete(ele)
        }else{
            return false
        }
    }
    return true
};
```

**383.èµé‡‘ä¿¡**
å’Œ242Tä¸€æ ·
æ€è·¯ï¼š
1. é‡‡ç”¨Map()é›†åˆå¯¹magazineå­—ç¬¦ä¸²è¿›è¡Œæ˜ å°„ï¼Œè®°å½•å­—ç¬¦å‡ºç°çš„æ¬¡æ•°.
2. éå†ransomNoteï¼Œé›†åˆä¸­å­˜åœ¨å°±-1ï¼Œå½“<1æ—¶å°±è¿”å›false
```js
var canConstruct = function(ransomNote, magazine) {
    // Map()é›†åˆ
    // ç®€å†Mapæ˜ å°„
    const map = new Map()
    for(let value of magazine){
        if(map.has(value)){
            map.set(value, map.get(value)+1) // ç›¸åŒé”®å€¼ï¼Œåé¢è¾“å…¥çš„ä¼šè¦†ç›–å‰é¢çš„
        }else{
            map.set(value, 1)
        }
    }
    // å¯¹ransomNoteéå†
    for(let value of ransomNote){
        if(map.has(value)){
            if(map.get(value) < 1) return false
            map.set(value, map.get(value)-1)
        }else{
            return false
        }
    }
    return true
};
```
**49.å­—æ¯å¼‚ä½è¯åˆ†ç»„**
è¯¥é¢˜ä»ç„¶æ˜¯T242çš„æ”¹ç‰ˆ
æ€è·¯ï¼š
1. åˆ›å»ºMapé›†åˆï¼Œé”®ä½å­—ç¬¦ä¸²ï¼Œå€¼ä¸ºå­—ç¬¦ä¸²æ•°ç»„
2. éå†å­—ç¬¦ä¸²æ•°ç»„ï¼Œå¯¹æ¯ä¸€ä¸ªå…ƒç´ è¿›è¡Œæ’åºï¼Œåˆ¤æ–­é›†åˆä¸­æ˜¯å¦å­˜åœ¨è¯¥å…ƒç´ ï¼Œä¸å­˜åœ¨åŠ å…¥ï¼Œå­˜åœ¨åˆ™åŠ å…¥åˆ°æ•°ç»„
3. ç„¶åå¯¹Mapé›†åˆè¿›è¡Œéå†ï¼ŒæŠŠå€¼ï¼ˆå³å­—ç¬¦äº§æ•°ç»„ï¼‰åŠ å…¥åˆ°ç»“æœæ•°ç»„
```js
var groupAnagrams = function(strs) {
    // Mapé›†åˆ
    const res = []
    const map = new Map()
    for(let str of strs){
        let sortStr = str.split('').sort().join('');
        if(map.has(sortStr)){
            map.get(sortStr).push(str)
        }else{
            map.set(sortStr, [str])
        }
    }
    // æŠŠé›†åˆä¸­çš„å€¼å…¨éƒ¨åŠ å…¥åˆ°ç»“æœæ•°ç»„
    for(let val of map.values()){
        res.push(val)
    }
    return res
};
```

**438.æ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å¼‚ä½è¯**
1. ç»Ÿè®¡på­—ç¬¦ä¸²ï¼Œç»Ÿè®¡æ¯ä¸ªå­—ç¬¦å‡ºç°çš„æ¬¡æ•°
2. é‡‡ç”¨æ»‘åŠ¨çª—å£åŒæŒ‡é’ˆåˆ¤æ–­æ˜¯å¦ç¬¦åˆæ¡ä»¶
    a. éå†åˆ°çš„å­—ç¬¦åœ¨mapPä¸­ï¼Œåˆ™æ·»åŠ åˆ°mapWinä¸­è®°å½•ï¼Œå½“ä¸¤åˆ™ä¸¤ä¸ªé›†åˆå­—ç¬¦æ•°é‡ç›¸ç­‰æ—¶ï¼Œæœ‰æ•ˆæ•°+1
    b. å½“å·¦å³æŒ‡é’ˆèŒƒå›´å¤§äºpçš„é•¿åº¦ï¼Œåˆ¤æ–­æ˜¯å¦ç¬¦åˆæ¡ä»¶ï¼Œæ˜¯å¦å›é€€
        - å¦‚æœæœ‰æ•ˆä¹¦ä¸ºmapPçš„å¤§å°ï¼Œåˆ™åŠ å…¥ç»“æœæ•°ç»„
        - å·¦æŒ‡é’ˆå·¦ç§»ï¼Œè‹¥å­—ç¬¦åœ¨mapPä¸­ï¼Œå¹¶ä¸”åœ¨mapWinä¸­ï¼Œæœ‰æ•ˆæ•°-1ã€ç›¸åº”å­—ç¬¦-1
```js
var findAnagrams = function(s, p) {
    // é¢˜æ„ï¼šæŸ¥æ‰¾å­—ç¬¦ä¸²sçš„å¼‚ä½è¯pï¼Œç„¶åè¿”å›æ¯ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„sä¸­å¼‚ä½è¯çš„èµ·å§‹ç´¢å¼•
    // ç»Ÿè®¡pä¸­å­—ç¬¦å‡ºç°æ¬¡æ•°
    const mapP = new Map()
    const mapWin = new Map()
    for(let char of p){
        mapP.set(char, (mapP.get(char) || 0) + 1)
    }
    // åˆ¤æ–­
    let left = right = 0;
    const res = []
    let valid = 0
    const [lenP, lenS] = [p.length, s.length];
    while(right < lenS){
        let charR = s[right++]
        if(mapP.get(charR)){
            mapWin.set(charR, (mapWin.get(charR) || 0) + 1);
            if(mapWin.get(charR) === mapP.get(charR)) valid++
        }
        while(right - left >= lenP){
            if(mapP.size === valid) res.push(left)
            let charL = s[left++]
            if(mapP.get(charL)){
                // mapWinä¸­æœ‰æ•ˆæ•°-1, å­—ç¬¦-1
                if(mapP.get(charL) === mapWin.get(charL)) valid--
                mapWin.set(charL, mapWin.get(charL)-1)
            }
        }
    }
    return res
};
```
**1002. æŸ¥æ‰¾å¸¸ç”¨å­—ç¬¦**
æ–¹æ³•ä¸€ï¼šMapé›†åˆ


æ–¹æ³•äºŒï¼šæ•°ç»„ + å€Ÿç”¨Api
```js
var commonChars = function(words) {
    // æŸ¥æ‰¾åœ¨æ¯ä¸ªå­—ç¬¦ä¸²ä¸­éƒ½å‡ºç°çš„å­—ç¬¦
    // æ€è·¯:å–å‡ºç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²,é‡‡ç”¨includesåˆ¤æ–­æ˜¯å¦å­˜åœ¨äºå…¶ä»–å­—ç¬¦ä¸²ä¸­,å­˜åœ¨åˆ™ç”¨ç©ºå­—ç¬¦ä¸²ä»£æ›¿''
    let [ans, word] = [[], words[0]]
    for(let char of word){
        if(words.every(str => str.includes(char))){
            // æŠŠæ»¡è¶³æ¡ä»¶çš„å­—ç¬¦åŠ å…¥ç»“æœæ•°ç»„,ç„¶ååœ¨wordsä¸­æŠŠè¯¥å­—ç¬¦ç”¨''æ›¿æ¢
            ans.push(char);
            words = words.map(str => str.replace(char, ''))
        }
    }
    return ans
};

// â­å‚è€ƒä»£ç 
// var commonChars = function(A) {
//     let ans = [], word = A[0], slen = word.length
//     for(let s of word){
//         if(A.every(m => m.includes(s))) {
//             A = A.map(m => m.replace(s, ''))
//             ans.push(s)
//         }
//     }
//     return ans
// };
```
**349. ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†**
ğŸ¦ˆé‡‡ç”¨Seté›†åˆå¯¹æ•°ç»„å»é‡ï¼Œå»ºç«‹æ˜ å°„å†è¿›è¡Œåˆ¤æ–­
é‡‡ç”¨é›†åˆå¯¹æ•°ç»„å»é‡ç„¶åå†è½¬æˆæ•°ç»„çš„ä¸¤ç§æ–¹æ³•ï¼šä¸€æ˜¯æ‰©å±•è¿ç®—ç¬¦ï¼ŒäºŒæ˜¯Array.from()
```js
var intersection = function(nums1, nums2) {
    // å…ƒç´ å”¯ä¸€ï¼Œé¦–å…ˆå¯¹ä¸¤ä¸ªæ•°ç»„å»é‡ï¼Œç„¶åå¯¹num1åšæ˜ å°„ï¼Œéå†num2ï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨äºnum1æ˜ å°„ä¸­ï¼Œå­˜åœ¨åˆ™åŠ å…¥ç»“æœæ•°ç»„
    const res = []
    const set = new Map()
    let num1Set = [...new Set(nums1)]
    let num2Set = [...new Set(nums2)]
    for(let num of num1Set){
        if(!set.has(num)) set.set(num)
    }
    // éå†num2
    for(let num of num2Set){
        if(set.has(num)) res.push(num)
    }
    return res
};
```

**350.ä¸¤ä¸ªæ•°ç»„çš„äº¤é›† II**
æ€è·¯:
1. é‡‡ç”¨Mapé›†åˆå¯¹num1è¿›è¡Œæ˜ å°„,è®°å½•æ¯ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°.
2. ç„¶åéå†æ•°ç»„num2,è¿›è¡Œå…ƒç´ åˆ¤æ–­,é‡åˆ°å­˜åœ¨å…ƒç´ åˆ™-1
æ³¨æ„ï¼šæ¯æ¬¡æ‰¾åˆ°ç›¸åŒå…ƒç´ è®°å¾—-1
```js
var intersect = function(nums1, nums2) {
    // ä¸349çš„åŒºåˆ«æ˜¯ï¼Œè®°å½•å…ƒç´ å‡ºç°çš„æ¬¡æ•°
    const mapNum = new Map()
    const ans = []
    for(let num of nums1){
        mapNum.set(num, (mapNum.get(num) || 0) + 1)
    }
    for(let num of nums2){
        if(mapNum.get(num) >= 1){
            ans.push(num)
            mapNum.set(num, mapNum.get(num)-1)
        }
    }
    return ans
};
```

**202. å¿«ä¹æ•°**

æ–¹æ³•ä¸€ï¼š
ğŸ¦ˆåˆ†ä¸¤æ­¥è®¡ç®—å¿«ä¹æ•°å’Œåˆ¤æ–­å¿«ä¹æ•°
æ€è·¯:
1. åˆ›å»ºSeté›†åˆ,è®°å½•æ¯æ¬¡è®¡ç®—çš„å¿«ä¹æ•°(ç”¨æ¥åˆ¤æ–­å¿«ä¹æ•°æ˜¯å¦å‡ºç°è¿‡,å‡ºç°è¿‡å°±é™·å…¥æ­»å¾ªç¯)
2. è®¡ç®—:å®šä¹‰ä¸€ä¸ªæ–¹æ³•getNextN,è®¡ç®—å¿«ä¹æ•°
3. åˆ¤æ–­:å½“n!=1 && !set.has(n),æ»¡è¶³è¯¥æ¡ä»¶å°±ä¸€ç›´éå†,è°ƒç”¨æ–¹æ³•è®¡ç®—å¿«ä¹æ•°

```js
var isHappy = function(n) {
    const set = new Set()
    const getNextN = (n) => {
        let ans = 0
        while(n > 0){
            //å–ä¸ªä½æ•°
            let temp = n % 10;
            ans += temp * temp;
            // é™ä½
            n = Math.floor(n/10);
        }
        return ans
    }

    // è°ƒç”¨æ–¹æ³•,å¾ªç¯è®¡ç®—
    while(n!==1 && !set.has(n)){
        set.add(n)
        n = getNextN(n)
    }
    return n === 1
};
```
æ–¹æ³•äºŒï¼šé£é¸Ÿæ€è·¯
æ€è·¯:
1. å»ºç«‹Seté›†åˆ,ç”¨äºåˆ¤é‡
2. æŠŠnè½¬æˆå­—ç¬¦ä¸²è¿›è¡Œéå†æ±‚å¿«ä¹æ•°
3. è‹¥ç»“æœä¸º1,è¿”å›true
4. è‹¥Setä¸­å‡ºç°è¿‡è®¡ç®—å‡ºç°çš„å€¼ï¼Œè¯´æ˜è¿›å…¥å¾ªç¯äº†ï¼Œæ°¸è¿œä¸å¯èƒ½åˆ°1ï¼Œè¿”å›false
```js
var isHappy = function(n) {
    const set = new Set()
    while(true){
        // è½¬æˆå­—ç¬¦ä¸²
        const strNum = `${n}`
        let newNum = 0
        for(let num of strNum){
            newNum += Number(num) ** 2
        }
        if(newNum === 1) return true
        if(set.has(newNum)) return false
        set.add(newNum)
        n = newNum;
    }
};
```
**1. ä¸¤æ•°ä¹‹å’Œ**
æ€è·¯ï¼šä¸€æ¬¡éå†å°±è§£å†³
1. éå†æ—¶ï¼Œå…ˆåˆ¤æ–­target-nums[i]=tempï¼Œè¯¥å…ƒç´ tempæ˜¯å¦åœ¨é›†åˆä¸­ï¼Œä¸åœ¨åˆ™åŠ å…¥åˆ°mapé›†åˆä¸­
2. æˆ‘ä»¬ç›¸å‡çš„å…ƒç´ åœ¨é›†åˆä¸­ï¼Œæˆ‘ä»¬å°±åŠ å…¥åˆ°ç»“æœæ•°ç»„
```js
var twoSum = function(nums, target) {
    // Mapé›†åˆ
    const res = []
    if(!nums) return nums
    const map = new Map()
    for(let i=0; i<nums.length; i++){
        let temp = target - nums[i]    
        // ç›¸å‡å…ƒç´ åœ¨é›†åˆä¸­
        if(map.has(temp)){
            res.push(map.get(temp))
            res.push(i)
        }
        // ç›¸å‡å…ƒç´ ä¸åœ¨é›†åˆ
        map.set(nums[i], i)
    }
    return res
};
```

**18. å››æ•°ä¹‹å’Œ**
é‡‡ç”¨åŒæŒ‡é’ˆè§£æ³•ï¼Œä¸æ˜¯Mapé›†åˆ
æ€è·¯ï¼šå…ˆå¯¹æ•°ç»„è¿›è¡Œæ’åºï¼Œé‡‡ç”¨åŒå±‚forå¾ªç¯ï¼Œè®©å·¦æŒ‡é’ˆä»ç¬¬ä¸‰ä¸ªæ•°å¼€å§‹ï¼Œå³æŒ‡é’ˆä»æœ€åä¸€ä¸ªæ•°å¼€å§‹
å½“å››æ•°ä¹‹å’Œå°äºtargetæ—¶ï¼Œå·¦æŒ‡é’ˆå³ç§»ï¼Œåä¹‹å³æŒ‡é’ˆå·¦ç§»
æ»¡è¶³æ¡ä»¶åŠ å…¥ç»“æœæ•°ç»„
æ³¨æ„ï¼šè¦å»é‡
```js
var fourSum = function(nums, target) {
    // åŒæŒ‡é’ˆ
    const len = nums.length;
    if(len < 4) return [];
    nums.sort((a, b) => a - b);
    const res = [];
    for(let i = 0; i < len - 3; i++) {
        // å»é‡i
        if(i > 0 && nums[i] === nums[i - 1]) continue;
        for(let j = i + 1; j < len - 2; j++) {
            // å»é‡j
            if(j > i + 1 && nums[j] === nums[j - 1]) continue;
            let l = j + 1, r = len - 1;
            while(l < r) {
                const sum = nums[i] + nums[j] + nums[l] + nums[r];
                if(sum < target) { l++; continue}
                if(sum > target) { r--; continue}
                res.push([nums[i], nums[j], nums[l], nums[r]]);
                // å»é‡
                while(l < r && nums[l] === nums[++l]);
                while(l < r && nums[r] === nums[--r]);
            }
        } 
    }
    return res;
};
```
**454é¢˜.å››æ•°ç›¸åŠ II**
æ€è·¯ï¼š
1. æŠŠå››ä¸ªæ•°ç»„åˆ†æˆä¸¤ç»„
2. å¯¹ç¬¬ä¸€ç»„Mapæ˜ å°„ï¼Œç¬¬ä¸€ç»„æ±‚å’Œå­˜æ”¾åˆ°Mapé›†åˆä¸­ï¼Œkeyä¸ºå’Œï¼Œvalueä¸ºæ¬¡æ•°ï¼ˆæ¬¡æ•°ç”¨æ¥ç»Ÿè®¡æ»¡è¶³è¦æ±‚çš„æ¬¡æ•°ï¼‰
3. å¯¹ç¬¬äºŒç»„éå†ï¼ŒæŸ¥æ‰¾æ»¡è¶³0-å’Œåœ¨Mapé›†åˆçš„æƒ…å†µï¼Œè®°å½•æ¬¡æ•°res+=map.get()
```js
var fourSumCount = function(nums1, nums2, nums3, nums4) {
    // é¢˜æ„ï¼šå››æ•°ä¹‹å’Œä¸º0ï¼Œ
    const map = new Map()
    let res = 0
    for(let i of nums1){
        for(let j of nums2){
            let temp = i + j
            // map.has(temp) ? map.set(temp, map.get(temp)+1) : map.set(temp, 1)
            // ä¸Šä¸€å¥æ›´å¥½çš„å†™æ³•
            map.set(temp, (map.get(temp) || 0) + 1)
        }
    }

    // éå†ç¬¬äºŒä¸ªæ•°ç»„
    for(let i of nums3){
        for(let j of nums4){
            let temp = i + j
            if(map.has(0-temp)){
                res += map.get(0-temp)
            }
        }
    }
    return res
};
```
**15é¢˜. ä¸‰æ•°ä¹‹å’Œ**
```js
var threeSum = function(nums) {
    // æ€è·¯ï¼šä¸å››æ•°ä¹‹å’Œé€»è¾‘ä¸€æ ·ï¼Œéå†æ•°ç»„ï¼Œå¯¹éå†åˆ°çš„å…ƒç´ æŒ‡å®šåŒæŒ‡é’ˆï¼Œç„¶ååˆ¤æ–­ä¸‰æ•°ä¹‹å’Œ
    const res = []
    const len = nums.length;
    if(len < 3) return []
    nums.sort((a, b) => a - b)
    for(let i = 0; i < len; i++){
        // å¦‚æœæŒ‡å®šåŒæŒ‡é’ˆçš„ç¬¬ä¸€ä¸ªå…ƒç´ å°± > 0,åˆ™è‚¯å®šæ²¡æœ‰ä¸‰æ•°ä¹‹å’Œç­‰äº0çš„æƒ…å†µ
        if(nums[i] > 0) return res;
        // å»é‡
        if(i > 0 && nums[i] === nums[i-1]) continue;
        let [l, r] = [i+1, len-1]
        while(l < r){
            const sum = nums[i] + nums[l] + nums[r];
            // åŒæŒ‡é’ˆæ”¶ç¼©
            if(sum < 0) l++
            else if(sum > 0) r--
            else{
                res.push([nums[i], nums[l], nums[r]]);
                // å»é‡
                while(l < r && nums[l] === nums[l+1]) l++;
                while(l < r && nums[r] === nums[r-1]) r--;
                l++;
                r--;
            }
        }
    }
    return res
};
```
****