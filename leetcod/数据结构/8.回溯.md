# çŸ¥è¯†ç‚¹

**æ¨¡æ¿**
```js
function backtracking(å‚æ•°) {
    if (ç»ˆæ­¢æ¡ä»¶) {
        å­˜æ”¾ç»“æœ;
        return;
    }
	// å•å±‚æœç´¢é€»è¾‘
    for (é€‰æ‹©ï¼šæœ¬å±‚é›†åˆä¸­å…ƒç´ ï¼ˆæ ‘ä¸­èŠ‚ç‚¹å­©å­çš„æ•°é‡å°±æ˜¯é›†åˆçš„å¤§å°ï¼‰) {
        å¤„ç†èŠ‚ç‚¹;
        backtracking(è·¯å¾„ï¼Œé€‰æ‹©åˆ—è¡¨); // é€’å½’
        å›æº¯ï¼Œæ’¤é”€å¤„ç†ç»“æœ
    }
}
```


## ç»„åˆ
**77. ç»„åˆ**
```js
var combine = function(n, k) {
    // å›æº¯
    const path = []
    const res = []
    const backtracking = (n, k, startIndex) => {
        // ç»ˆæ­¢æ¡ä»¶
        if(path.length === k){
            res.push([...path])
            return
        }
        for(let i=startIndex; i<=n; i++){
            path.push(i)
            backtracking(n, k, i+1)
            path.pop()// å›æº¯
        }
    }
    backtracking(n, k, 1)
    return res
};
```
â­å‰ªæä¼˜åŒ–
æ¥ä¸‹æ¥çœ‹ä¸€ä¸‹ä¼˜åŒ–è¿‡ç¨‹å¦‚ä¸‹ï¼š
1. å·²ç»é€‰æ‹©çš„å…ƒç´ ä¸ªæ•°ï¼špath.size();
2. è¿˜éœ€è¦çš„å…ƒç´ ä¸ªæ•°ä¸º: k - path.size();
3. åœ¨é›†åˆnä¸­è‡³å¤šè¦ä»è¯¥èµ·å§‹ä½ç½® : n - (k - path.size()) + 1ï¼Œå¼€å§‹éå†
ä¸ºä»€ä¹ˆæœ‰ä¸ª+1å‘¢ï¼Œå› ä¸ºåŒ…æ‹¬èµ·å§‹ä½ç½®ï¼Œæˆ‘ä»¬è¦æ˜¯ä¸€ä¸ªå·¦é—­çš„é›†åˆã€‚
ä¸¾ä¸ªä¾‹å­ï¼Œn = 4ï¼Œk = 3ï¼Œ ç›®å‰å·²ç»é€‰å–çš„å…ƒç´ ä¸º0ï¼ˆpath.sizeä¸º0ï¼‰ï¼Œn - (k - 0) + 1 å³ 4 - ( 3 - 0) + 1 = 2ã€‚
ä»2å¼€å§‹æœç´¢éƒ½æ˜¯åˆç†çš„ï¼Œå¯ä»¥æ˜¯ç»„åˆ[2, 3, 4]ã€‚

**216.ç»„åˆæ€»å’ŒIII**
```js
var combinationSum3 = function(k, n) {
    // \U0001f988å›æº¯æ³•:kæ•°ä¹‹å’Œç­‰äºn
    // å‰ªæä¼˜åŒ–:ä¸¤å¤„éœ€è¦å‰ªæ,æ€»è·¯å¾„ä¹‹å’Œå¤§äºç›®æ ‡å€¼,åŠè·¯ä¸Šå°±å¤§äºç›®æ ‡å€¼
    // \U0001f988ç”¨æ•°ç»„å»å¤„ç†:å½“æ•°ç»„é•¿åº¦ä¸ºkå¹¶ä¸”ä¹‹å’Œä¸ºnæ—¶,æ‰å­˜æ”¾ç»“æœ---å…ˆä¸å‰ªæä¼˜åŒ–
    let path = []// å·²è·å¾—å…ƒç´ ä¹‹å’Œ
    let res = []
    const backtracking = (k, startIndex)=>{
        if(path.length === k){
            let arrSum = path.reduce((total,curIndex)=>{
                return total + curIndex
            })
            if(arrSum === n) res.push([...path])
            return
        }
        for(let i=startIndex; i<=9; i++){
            path.push(i)//å¤„ç†
            backtracking(k, i+1)//é€’å½’
            path.pop()//å›æº¯
        }
    }
    backtracking(k, 1)
    return res
};
```

â­å‰ªæä¼˜åŒ–
```js
var combinationSum3 = function(k, n) {
    // å‰ªæä¼˜åŒ–
    // ä¼˜åŒ–ä¸€ï¼šæ¯ä¸€å±‚forå¾ªç¯çš„èµ·å§‹ä½ç½® i <= 9-(k - path.length) + 1
    // ä¼˜åŒ–äºŒï¼šæ±‚å’Œå¤§äºç›®æ ‡å€¼
    const path = []
    const res = []
    const backtracking = (targetSum, k, startIndex) => {
        if(targetSum < 0) return // ä¼˜åŒ–1
        if(path.length === k && targetSum === 0){
            res.push([...path])
            return
        }
        for(let i=startIndex; i<=9-(k-path.length)+1; i++){// ä¼˜åŒ–2
            path.push(i)
            backtracking(targetSum-i, k, i+1)
            path.pop()
        }
    }
    backtracking(n, k, 1)
    return res
};
```
**17.ç”µè¯å·ç çš„å­—æ¯ç»„åˆ**
æ€è·¯ï¼š
1. å»ºç«‹æ˜ å°„ æ•°å­— å­—æ¯å¯¹åº”
2. å½“å­—æ¯ä¸ªæ•°ç­‰äºdigitsé•¿åº¦æ¡ä»¶ç»ˆæ­¢
3. åˆ›å»ºç»“æœæ•°ç»„å’Œè·¯å¾„æ•°ç»„ï¼Œç»™å®šç´¢å¼•å€¼ï¼Œè·å–ç´¢å¼•å€¼å¯¹åº”çš„å­—æ¯ï¼Œå‹å…¥è·¯å¾„ä¸­
```js
var letterCombinations = function(digits) {
    const map = new Map([
        ['2','abc'],
        ['3','def'],
        ['4','ghi'],
        ['5','jkl'],
        ['6','mno'],
        ['7','pqrs'],
        ['8','tuv'],
        ['9','wxyz'],
    ])
    const res = []
    const path = []
    if(!digits.length) return res
    // indexè¡¨ç¤ºæŒ‰ä¸‹çš„ç¬¬å‡ ä¸ªæ•°å­—
    const backtracking = (digits, index) => {
        if(index === digits.length){
            res.push(path.join(''))
            return
        }
        // å–å‡ºindexå¯¹åº”çš„å­—æ¯å­—ç¬¦ä¸²
        const letters = map.get(digits[index])
        // å¯¹å­—æ¯è¿›è¡Œéå†ï¼ŒåŠ å…¥åˆ°è·¯å¾„æ•°ç»„
        for(let i=0; i<letters.length; i++){
            path.push(letters[i])
            backtracking(digits,index+1)
            path.pop()
        }
    }
    backtracking(digits, 0)
    return res
};
```
**39. ç»„åˆæ€»å’Œ**
```js
var combinationSum = function(candidates, target) {
    // è¿˜æ˜¯ç»„åˆå›æº¯é—®é¢˜ï¼Œåœ¨77ç»„åˆæ¨¡æ¿çš„é—®é¢˜ä¸Šï¼Œåœ¨æ¯æ¬¡é€’å½’çš„æ—¶å€™ï¼Œä¸å‘ä¸‹é€‰æ‹©
    const path = []
    const res = []
    const backtracking = (candidates, target, startIndex) => {
        if(target < 0) return
        if(target === 0){
            res.push([...path])
            return
        }
        for(let i=startIndex; i<candidates.length; i++){
            path.push(candidates[i])
            backtracking(candidates, target-candidates[i], i)
            path.pop()
        }
    }
    backtracking(candidates, target, 0)
    return res
};
```
**40.ç»„åˆæ€»å’ŒII**
```js
var combinationSum2 = function(candidates, target) {
    // ä¸39å¯¹æ¯”ï¼Œæ¯ä¸ªæ•°å­—åªèƒ½ä½¿ç”¨ä¸€æ¬¡;å¹¶ä¸”éœ€è¦å»é‡
    const path = []
    const res = []
    candidates.sort()
    const backtracking = (candidates, target, startIndex) => {
        // æ ‘æå»é‡
        if(target < 0) return
        if(target === 0){
            res.push([...path])
            return
        }
        for(let i=startIndex; i<candidates.length; i++){
            // æ•°å±‚å»é‡ï¼šç»„åˆé—®é¢˜ï¼Œä¸€ä¸ªè·¯å¾„ä¸­ä¸åŒçš„é¡ºåºä¹Ÿæ˜¯é‡å¤çš„
            // ä»ç¬¬äºŒå±‚å¼€å§‹ï¼Œ
            if(i>startIndex && candidates[i] === candidates[i-1]) continue
            path.push(candidates[i])
            backtracking(candidates, target-candidates[i], i+1)
            path.pop()
        }
    }
    backtracking(candidates, target, 0)
    return res
};
```

**131.åˆ†å‰²å›æ–‡ä¸²**
æ€è·¯ï¼š
1. åœ¨ä¸é‡å¤çš„ç»„åˆå»åˆ¤æ–­æ˜¯ä¸æ˜¯å›æ–‡ä¸²
    å›æ–‡ä¸²åˆ¤æ–­ï¼šéå†è¿™æ®µå­—ç¬¦ä¸²ï¼Œç„¶åæ ¹æ®å‰ååŒæŒ‡é’ˆå¯¹åº”çš„å­—ç¬¦æ˜¯å¦ç›¸ç­‰ç¡®å®šæ˜¯å¦æ˜¯å›æ–‡ä¸²
```js
var partition = function(s) {
    const res = []
    const path = []
    const backtracking = (str, startIndex) => {
        if(startIndex >= str.length){
            res.push([...path])
            return
        }
        for(let i=startIndex; i<str.length; i++){
            if(isPartition(str, startIndex, i)){
                path.push(str.substr(startIndex, i-startIndex+1))
            }else{
                continue
            }
            backtracking(str, i+1)
            path.pop()
        }
    }
    const isPartition = (str, left, right) => {
        for(let i=left,j=right; i<j; i++, j--){
            if(str[i] !== str[j]) return false
        }
        return true
    }
    backtracking(s, 0)
    return res
};
```
**93.å¤åŸIPåœ°å€**
æ€è·¯ï¼š
1. åœ¨å›æº¯çš„è¿‡ç¨‹ä¸­ï¼Œå¯¹ipåœ°å€è¿›è¡Œé™å®šï¼Œä¸ç¬¦åˆæ¡ä»¶çš„å°±èˆå»
ä¸‰ç§æƒ…å†µ
- ä»¥0å¼€å¤´
- åˆ†å‰²çš„å­—ç¬¦ä¸²é•¿åº¦å¤§äº3
- æ•°å€¼ > 255
```js
var restoreIpAddresses = function(s) {
    // å›æº¯ï¼šé€†å‘æ€ç»´
    const res = []
    const path = []
    const backtracking = (startIndex) => {
        // ç»ˆæ­¢æ¡ä»¶
        if(path.length > 4) return
        if(path.length === 4 && startIndex === s.length){
            res.push(path.join('.'))
            return
        }
        for(let i=startIndex; i<s.length; i++){
            // æ’é™¤ä¸ç¬¦åˆæ¡ä»¶çš„æƒ…å†µ
            let str = s.substr(startIndex, i-startIndex+1)
            if(str.length>3 || +str>255) return
            if(str.length>1 && str[0] === '0') return
            path.push(str)
            backtracking(i+1)
            path.pop()
        }
    }
    backtracking(0)
    return res
};
```

## å­é›†
**78.å­é›†**
```js
var subsets = function(nums) {
    const path = []
    const res = []
    const backtracking = (nums, startIndex) => {
        res.push([...path])//â­éå†æ ‘å½¢ç»“æ„æ‰¾æ¯ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä¸éœ€è¦åŠ ç»ˆæ­¢æ¡ä»¶
        if(startIndex >= nums.length) return
        for(let i=startIndex; i<nums.length; i++){
            path.push(nums[i])
            backtracking(nums, i+1)
            path.pop()
        }
    }
    backtracking(nums, 0)
    return res
};
```
**491.é€’å¢å­åºåˆ—**
æ€è·¯ï¼š
ä¿è¯å»é‡å’Œé€’å¢åºåˆ—
æ•°å±‚å»é‡ï¼šè®¾ç½®ä¸€ä¸ªuset[]ï¼Œæ ‡è®°å·²ç»å¤„ç†è¿‡çš„ç‚¹
é€’å¢åºåˆ—ï¼Œéå†åˆ°çš„ç‚¹nums[i] < path.at(-1)æ—¶ï¼Œèˆå»
```js
var findSubsequences = function(nums) {
    const path = []
    const res = []
    const backtracking = (nums, startIndex) => {
        if(path.length > 1){
            res.push([...path])
        }
        let uset = []
        for(let i=startIndex; i<nums.length; i++){
            // å¯¹éé€’å¢å’Œé‡å¤è¿›è¡Œå¤„ç†
            if(path.length > 0 && nums[i]<path.at(-1) || uset[nums[i]+100]){
                continue
            }
            uset[nums[i] + 100] = true
            path.push(nums[i])
            backtracking(nums, i+1)
            path.pop()
        }
    }
    backtracking(nums, 0)
    return res
};
```

## æ’åˆ—
**46.å…¨æ’åˆ—**
æ€è·¯ï¼šæ¯æ¬¡éƒ½ä»0å¼€å§‹éå†ï¼Œæ ‡è®°å·²ä½¿ç”¨è¿‡çš„å…ƒç´ ï¼›è®¾ç½®ä¸€ä¸ªusetå»é‡

```js
var permute = function(nums) {
    // å›æº¯ï¼šæ’åˆ—æ˜¯å¼ºè°ƒé¡ºåºçš„
    const res = [];
    const path = [];
    // let uset = []
    const backtracking = (nums, uset) => {
        if(path.length === nums.length){
            res.push([...path])
            return
        }
        for(let i=0; i<nums.length; i++){
            if(uset[i]) continue //éå†åˆ°çš„å…ƒç´ å·²ç»å­˜åœ¨äºpathè·¯å¾„ä¸­(â­éå†è¿‡çš„å…ƒç´ å·²ç»æ ‡è®°ä¸ºtrueï¼ŒåŠ å…¥åˆ°äº†pathä¸­äº†)
            uset[i] = true
            path.push(nums[i])
            backtracking(nums, uset)
            // â­è¿™é‡Œreturnçš„æ—¶å€™ï¼Œä¼šå¼¹å¤šæ¬¡
            path.pop()
            uset[i] = false
        }
    }
    backtracking(nums, [])
    return res
};
```
ğŸ¦é£é¸Ÿæ€è·¯ï¼š
é‡‡ç”¨includesåˆ¤æ–­ï¼Œpathè·¯å¾„æ•°ç»„ä¸­æ˜¯å¦åŒ…å«è¯¥å…ƒç´ ï¼Œä¸åŒ…å«è¯¥å…ƒç´ ç›´æ¥æ‰åŠ å…¥pathæ•°ç»„
```js
var permute = function(nums) {
    // é‡‡ç”¨includesåˆ¤æ–­ï¼Œpathè·¯å¾„æ•°ç»„ä¸­æ˜¯å¦åŒ…å«è¯¥å…ƒç´ ï¼Œä¸åŒ…å«è¯¥å…ƒç´ ç›´æ¥æ‰åŠ å…¥pathæ•°ç»„
    if(!nums.length) return
    const res = []
    const backtracking = path => {
        if(path.length === nums.length){
            res.push([...path])
            return
        }
        for(let num of nums){
            if(!path.includes(num)){
                backtracking([...path, num])
            }
        }
    }
    backtracking([])
    return res
};
```

**47.å…¨æ’åˆ— II**
46çš„ä¸¤ç§æ–¹æ³•ï¼Œéƒ½æ˜¯ç›´æ¥åˆ¤æ–­è·¯å¾„æ•°ç»„ä¸­æ˜¯å¦å·²åŒ…å«æ‰€éå†åˆ°çš„å…ƒç´ ï¼ˆæœ¬é¢˜ä¸é€‚ç”¨ï¼‰
```js
var permuteUnique = function(nums) {
    const path = []
    const res = []
    nums.sort()
    const backtracking = (nums, uset) => {
        if(path.length === nums.length){
            res.push([...path])
            return
        }
        for(let i=0; i<nums.length; i++){
            // æ ‘å±‚å»é‡
            // åˆ¤æ–­éå†åˆ°çš„å…ƒç´ æ˜¯å¦ä¸ºåˆšæ‰åŠ å…¥pathä¸­çš„ï¼ˆä¸æ˜¯è¯¥å…ƒç´ æ˜¯å¦å­˜åœ¨ï¼‰--->åˆ¤æ–­æ˜¯å¦å·²ç»éå†è¿‡
            // æ¯”å¦‚[1,1,2]æ•°ç»„   å½“åŠ å…¥1æ—¶ï¼Œpathä¸º[1],å½“å†æ¬¡éå†ä»0å¼€å§‹ï¼Œè¿™æ—¶å€™åˆ¤æ–­uset[0]=trueï¼›å³è¡¨ç¤º0ç´¢å¼•ä½ç½®å·²ç»éå†è¿‡ï¼Œä¸èƒ½å†åŠ å…¥æ•°ç»„
            // â­uset[i] å·²éå†è¿‡
            // â­nums[i] === nums[i-1] && uset[i-1] === false åŒæ ‘å±‚å‰ä¸€èŠ‚ç‚¹å·²ä½¿ç”¨è¿‡ï¼Œç›´æ¥è·³è¿‡

            if(uset[i] || i>0 && nums[i] === nums[i-1] && uset[i-1] === false) continue
            uset[i] = true
            path.push(nums[i])
            backtracking(nums, uset)
            path.pop()
            uset[i] = false
            
        }
    }
    backtracking(nums, [])
    return res
};
```

**332.é‡æ–°å®‰æ’è¡Œç¨‹**
**ç¬¬51é¢˜. Nçš‡å**
**37. è§£æ•°ç‹¬**

## å²›å±¿é—®é¢˜
**200. å²›å±¿æ•°é‡**
**1254. ç»Ÿè®¡å°é—­å²›å±¿çš„æ•°ç›®**
**695. å²›å±¿çš„æœ€å¤§é¢ç§¯**
**1905. ç»Ÿè®¡å­å²›å±¿**
**130. è¢«å›´ç»•çš„åŒºåŸŸ**
**130. è¢«å›´ç»•çš„åŒºåŸŸ**
****
****