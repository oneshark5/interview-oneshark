# æ•°ç»„åˆ¤æ–­ä¸æ•°ç»„å¤„ç†

**instanceof**

```JavaScript
const arr= []
arr instanceof Array // true
```

**Array.isArray**

```
const arr = []
Array.isArray(arr) // true

const obj = {}
Array.isArray(obj) // false
```

**Object.prototype.isPrototypeOf**

- ä½¿ç”¨ Object çš„åŸå‹æ–¹æ³• isPrototypeOfï¼Œåˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡çš„åŸå‹æ˜¯å¦ä¸€æ ·, `isPrototypeOf()` æ–¹æ³•ç”¨äºæµ‹è¯•ä¸€ä¸ªå¯¹è±¡æ˜¯å¦å­˜åœ¨äºå¦ä¸€ä¸ªå¯¹è±¡çš„åŸå‹é“¾ä¸Šã€‚---ã€‹instanceofå°±æ˜¯é‡‡ç”¨çš„è¿™ç§æ–¹æ³•ã€‚

```
const arr = []
Object.prototype.isPrototypeOf(arr, Array.prototype) // true
```

**Object.getPrototypeOf**ï¼š`getPrototypeOf()` æ–¹æ³•è¿”å›æŒ‡å®šå¯¹è±¡çš„åŸå‹ã€‚

```
const arr = []
Object.getPrototypeOf(arr) === Array.prototype // true
```

**Object.prototype.toString**

```
const arr = []
Object.prototype.toString.call(arr) === '[object Array]' // true

const obj = {}
Object.prototype.toString.call(obj) // "[object Object]"
```

- ä¸ºä»€ä¹ˆä¸ç›´æ¥ç”¨ obj.toString()å‘¢ï¼Ÿ
  è¿™æ˜¯å› ä¸º toString ä¸º Object çš„åŸå‹æ–¹æ³•ï¼Œè€Œ Arrayï¼Œfunction ç­‰ç±»å‹ä½œä¸º Object çš„å®ä¾‹ï¼Œéƒ½==é‡å†™äº† toString æ–¹æ³•==ã€‚ä¸åŒçš„å¯¹è±¡ç±»å‹è°ƒç”¨ toString æ–¹æ³•æ—¶ï¼Œæ ¹æ®åŸå‹é“¾çš„çŸ¥è¯†ï¼Œè°ƒç”¨çš„æ˜¯å¯¹åº”çš„é‡å†™ä¹‹åçš„ toString æ–¹æ³•ï¼Œè€Œä¸ä¼šå»è°ƒç”¨ Object ä¸ŠåŸå‹ toString æ–¹æ³•ï¼ˆè¿”å›å¯¹è±¡çš„å…·ä½“ç±»å‹ï¼‰ï¼Œæ‰€ä»¥é‡‡ç”¨ obj.toString()ä¸èƒ½å¾—åˆ°å…¶å¯¹è±¡ç±»å‹ï¼Œåªèƒ½å°† obj è½¬æ¢ä¸ºå­—ç¬¦ä¸²ç±»å‹ï¼›å› æ­¤ï¼Œåœ¨æƒ³è¦å¾—åˆ°å¯¹è±¡çš„å…·ä½“ç±»å‹æ—¶ï¼Œåº”è¯¥è°ƒç”¨ Object ä¸ŠåŸå‹ toString æ–¹æ³•ã€‚

### ğŸ¦ˆé—®é¢˜8ï¼šæ•°ç»„æ“ä½œ

**æ•°ç»„æ‰å¹³åŒ–**
æ•°ç»„æ‰å¹³åŒ–å°±æ˜¯æŠŠå¤šç»´æ•°ç»„è½¬åŒ–æˆä¸€ç»´æ•°ç»„ã€‚

- flat()æ–¹æ³•

  - æŒ‡å®šæå–æ•°ç»„çš„åµŒå¥—å±‚æ•°ï¼Œé»˜è®¤æ˜¯1ï¼ŒInfinityå¯ä»¥æå–ä»»æ„æ·±åº¦
  - flatæ–¹æ³•ä¼šè‡ªåŠ¨ç§»é™¤ç©ºé¡¹ï¼ˆç§»é™¤ç©ºæ ¼ï¼‰

  ```js
  console.log([1 ,[2, 3]].flat()); // [1, 2, 3]
  // æŒ‡å®šè½¬æ¢çš„åµŒå¥—å±‚æ•°
  console.log([1, [2, [3, [4, 5]]]].flat(2)); // [1, 2, 3, [4, 5]]
  // ä¸ç®¡åµŒå¥—å¤šå°‘å±‚
  console.log([1, [2, [3, [4, 5]]]].flat(Infinity)); // [1, 2, 3, 4, 5]
  // è‡ªåŠ¨è·³è¿‡ç©ºä½
  console.log([1, [2, , 3]].flat()); // [1, 2, 3]
  ```

- reduce + concat

  ```js
  arr.reduce((prev, cur) => prev.concat((cur), []);//è¿™ä¸ªä»…èƒ½å¯¹äºŒç»´æ•°ç»„è¿›è¡Œé“ºå¹³
  // ä¼˜åŒ–---é‡‡ç”¨é€’å½’
  // å®šä¹‰ä¸€ä¸ªflattenå‡½æ•°ï¼Œåˆ¤æ–­å¦‚æœæ˜¯æ•°ç»„å°±ä¸€ç›´é€’å½’
  function flatten(arr){
    return arr.reduce((prev, cur) => {
      return prev.concat(Array.isArray(cur) ? flatten(cur) : cur)
    },[])
  }
  ```

- æ‰©å±•è¿ç®—ç¬¦ + concat

  ```js
  // äºŒç»´
  const flattened = arr => [].concat(...arr);
  
  // ä¼˜åŒ–
  function flatten(arr){
  while(arr.some(item => Array.isArray(item))){
    arr = [].concat(...arr);
  }
  return arr;
  }
  
  const arr = [1, [2, [3, 4]]];
  console.log(flatten(arr));
  ```

**æ•°ç»„å»é‡**
å»é™¤æ•°ç»„çš„é‡å¤å…ƒç´ 

- åŒé‡forå¾ªç¯

  ```js
  function Array_dfor(data) {
    const newArray = [];
    let isRepeat;
    for (let i = 0; i < data.length; i++) {
      isRepeat = false;
      for (let j = 0; j < newArray.length; j++) {
        if (data[i] === newArray[j]) {
          isRepeat = true;
          break;
        }
      }
      if (!isRepeat) {
        newArray.push(data[i]);
      }
    }
    return newArray;
  }
  ```

- includes()
  ä¸å­˜åœ¨å°±åŠ å…¥æ•°ç»„ï¼Œå­˜åœ¨ç›´æ¥è·³è¿‡

  ```js
  function Array_includes(data) {
  var arr = [];
  for (var i = 0; i < data.length; i++) {
    if (!arr.includes(data[i])) {
      arr.push(data[i])
    }
  }
  return arr;
  ```

- index()
  åŒincludes()

  ```js
  function Array_indexOf(data) {
    var arr = [];
    for (var i = 0; i < data.length; i++) {
      if (arr.indexOf(data[i]) === -1){
        arr.push(data[i])
      }
    }
    return arr;
  }
  ```

- reducer + indexOf()
  ä¸å­˜åœ¨è¯¥å…ƒç´ æ—¶ï¼ŒåŠ å…¥åˆ°æ•°ç»„ï¼Œå­˜åœ¨æ—¶ç›´æ¥è¿”å›å‰ä¸€è®¡ç®—ç»“æœçš„æ•°ç»„

  ```js
  let myArray = ['a', 'b', 'a', 'b', 'c', 'e', 'e', 'c', 'd', 'd', 'd', 'd']
  let myArrayWithNoDuplicates = myArray.reduce(function (previousValue, currentValue) {
    if (previousValue.indexOf(currentValue) === -1) {// indexOfåˆ¤æ–­ä¸å­˜åœ¨è¯¥å…ƒç´ è¿”å›-1
      previousValue.push(currentValue)
    }
    return previousValue // å·²ç»å­˜åœ¨è¯¥å…ƒç´ ï¼Œæ‰€ä»¥ç›´æ¥è¿”å›å‰ä¸€åˆ¤æ–­ç»“æœ
  }, [])
  
  console.log(myArrayWithNoDuplicates)
  ```

- Map()

```js
function Array_Map(data) {
  const newArr = [];
  const tmp = new Map();
  for (var i = 0; i < data.length; i++) {
    if (!tmp.has(data[i])){
      tmp.set(data[i],1)
      newArr.push(data[i])
    }
  }
  return newArr;
}
```

- Set()

```js
function Array_set(data) {
  return Array.from(new Set(data))
}
```

